<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Conditional Matching experiments</title>
  <link rel="stylesheet" href="../../shared/style.css">
</head>
<body>
    <script src="../../shared/utils.js"></script>
    <p><a href="../index.html">[Infra]</a></p>

    <p>This page verifies that APIs get modified when in an experiment. Ensure you're sending the following cohorts:
        <code>
        currentCohorts: [
            {
                "feature": "ContentScopeExperiments",
                "subfeature": "bloops",
                "cohort": "control",
            },
            {
                "feature": "ContentScopeExperiments",
                "subfeature": "test",
                "cohort": "treatment",
            },
        ],
        </code>
    </p>

    <script>
        test('Conditional matching experiments', async () => {
            const res = navigator.hardwareConcurrency;
            const results = [
                {
                    name: "APIs changing, expecting to always match",
                    result: res,
                    expected: res === 200 || res === 300, // Either is valid here, but 100 is the default which would mean the experiment is not running
                }
            ];
            return results;
        });

        // eslint-disable-next-line no-undef
        renderResults();
    </script>
</body>
</html>
